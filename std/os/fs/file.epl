struct File {
    __data: void*;

    static extern open(path: const char*, mode: const char*): File*;
    extern close();

    extern read(to: char*, count: usize);
    extern write(from: const char*, count: usize);

    get(): char {
        c: char;
        read(&c, 1);
        ret c;
    }

    put(c: char) {
        write(&c, 1);
    }
}

#def  stdin_fd 0;
#def stdout_fd 1;
#def stderr_fd 2;

extern stdin: File*;
extern stdout: File*;
extern stderr: File*;
